<div class="container">
  <div class="input-numbers">
    <div class="description">
      <h1>Authentication Code</h1>
      <p>Enter the 5-digit code we just texted to your phone number.</p>
    </div>

    <div>
      <input
        *ngFor="let box of boxes; let i = index"
        type="text"
        maxlength="1"
        id="input-{{ i }}"
        [(ngModel)]="code[i]"
        (keydown)="onInputChange(i, $event)"
        style="
          width: 40px;
          height: 40px;
          text-align: center;
          font-size: 20px;
          margin: 5px;
        "
      />
    </div>

    <div>
      <p class="no-code-received-text">Didn't receive a code?</p>

      @if (showError) {
      <p class="invalid-code-text">
        Invalid code, please insert the correct 5 digits.
      </p>

      }
    </div>

    <div>
      <p (click)="getOTP()">click me to show the OTP</p>
      <p>{{receivedOTP}}</p>
    </div>
  </div>

  <button
    [disabled]="isButtonDisabled"
    [ngStyle]="{
      'background-color': isButtonDisabled ? 'rgb(230, 96, 0, 37%)' : ''
    }"
    (click)="verifyOTP()"
  >
    Continue
  </button>

  <ngx-spinner
    bdColor="rgba(0, 0, 0, 0.8)"
    size="medium"
    color="#fff"
    type="ball-spin-clockwise"
    [fullScreen]="true"
  ></ngx-spinner>
</div>
